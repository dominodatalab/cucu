<html>
  <head>
    <title>Dynamic Dropdown</title>
    <script>
    function update(inputElement) {
        const options = ["aa", "ab", "ac", "abb", "acc", "abbc"];

        let input = inputElement.value;
        console.log("input value:")
        console.log(input)
        const available_options = [];
        for (let i = 0; i < options.length; i++) {
            if (options[i].startsWith(input)) {
                available_options.push(options[i]);
            }
        }
        console.log("available_options:")
        console.log(available_options)

        let sel = inputElement.nextElementSibling;
        while (sel.hasChildNodes()) {
            sel.removeChild(sel.firstChild);
        }

        let size = 2;
        if (available_options.length < 2) {
            size = 1;
        }
        for (let i = 0; i < size; i++) {
            var opt = document.createElement('option');
            opt.value = available_options[i];
            opt.innerHTML = available_options[i];
            sel.appendChild(opt);
            sel.size = 2;
        }
    }
    </script>
  </head>
  <body>
    <h1>Dynamic Dropdown 1</h1>
    <label for="dynamic1">Dynamic Dropdown
      <input id="dynamic1" onkeypress="update(this);" type="text">
      <select id="select1"></select>
    </label><br/>

    <h1>Dynamic Dropdown 2</h1>
    <label for="dynamic2">Dynamic Dropdown
      <input id="dynamic2" onkeypress="update(this);" type="text">
      <select id="select2"></select>
    </label><br/>
  </body>
</html>
